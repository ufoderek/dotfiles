if [ -f $HOME/.bash_funcs ]; then
    . ~/.bash_funcs
fi

# path
export PATH=$PATH:$HOME/dotfiles/scripts
if is_linux; then
    export PATH=$PATH:$HOME/wk/tools/android-sdk-linux/tools
    export PATH=$PATH:$HOME/wk/tools/android-sdk-linux/platform-tools
    export PATH=$PATH:$HOME/wk/tools/android-sdk-linux/platform-tools/sys-trace
    #for trash-cli
    export PATH=$PATH:$HOME/.local/bin
fi
export PATH=$PATH:$HOME/wk/tools/test-apks
export PATH=$PATH:$HOME/wk/tools/cts/android-cts/tools

if is_osx; then
    #for homebrew
    export PATH="/usr/local/sbin:$PATH"
    #for android-sdk installed from homebrew
    export ANDROID_HOME="/usr/local/opt/android-sdk"
    export PATH=$PATH:/usr/local/opt/android-sdk/tools
    export PATH=$PATH:/usr/local/opt/android-sdk/platform-tools
fi

if is_osx; then
    # to build AOSP
    ulimit -S -n 1024
fi

if is_nvt; then
    export PATH=$PATH:/opt/VDLinux-mipsel-24kv3r0.20120412/bin
fi

# ccache
export CCACHE_COMPRESS=0
export CCACHE_DIR=~/wk/ccache
export USE_CCACHE=1
#(ccache -M 100G &) > /dev/null 2>&1 #using subshell to hide background response

# ibus
#if ! is_buildfarm; then
    #for ibus
    #export GTK_IM_MODULE=ibus
    #export XMODIFIERS=@im=ibus
    #export QT_IM_MODULE=ibus-qt4
    #export XIM_PROGRAM=/usr/bin/ibus-daemon
#fi

# bash parameters
export HISTSIZE=1000000
export HISTFILESIZE=1000000
export EDITOR=vim
export HISTCONTROL=erasedups
#export HISTIGNORE='&:ls:cd ~:cd ..:[bf]g:exit:h:history'
export HISTIGNORE='&:cd ~:cd ..:[bf]g:exit:h:history'
export PROMPT_COMMAND='history -a' #update history after each command

# tell AOSP lunch not to touch my PROMPT_COMMAND
export STAY_OFF_MY_LAWN=true

# load bashrc for interactive shell
case "$-" in *i*) if [ -r ~/.bashrc ]; then . ~/.bashrc; fi;; esac
