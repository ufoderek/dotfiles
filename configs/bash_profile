if [ -f $HOME/.bash_funcs ]; then
    . ~/.bash_funcs
fi

# path (replace system defaults)
if is_osx; then
    export PATH=/opt/local/bin:$PATH
    export PATH=/opt/local/sbin:$PATH
    export PATH=/opt/local/libexec/gnubin:$PATH
else # linux
    export PATH=$HOME/toolchain/cppcheck-1.60.1:$PATH
    export PATH=$HOME/toolchain/qvim-20140220/bin:$PATH
fi

# path
export PATH=$PATH:$HOME/dotfiles/scripts
export PATH=$PATH:$HOME/toolchain/arm-linux-androideabi-4.6/bin
if ! is_buildfarm; then
    export PATH=$PATH:$HOME/toolchain/scs
    export PATH=$PATH:$HOME/toolchain/test-apks
    export PATH=$PATH:$HOME/toolchain/cts/acer/android-cts-4.2_r4-linux_x86-arm/android-cts/tools
    export PATH=$PATH:$HOME/toolchain/cts/android-cts/tools
    export PATH=$PATH:$HOME/toolchain/adt-bundle-linux-x86_64-20130514/sdk/tools
    export PATH=$PATH:$HOME/toolchain/adt-bundle-linux-x86_64-20130514/sdk/platform-tools
    export PATH=$PATH:$HOME/toolchain/adt-bundle-linux-x86_64-20130514/sdk/platform-tools/systrace
    export PATH=$PATH:$HOME/toolchain/android-ndk-r9c/toolchains/arm-linux-androideabi-4.6/prebuilt/linux-x86_64/bin/
else
    # tmux
    export LD_LIBRARY_PATH=$HOME/toolchain/libevent-2.0.21-stable/lib
    export PATH=$HOME/toolchain/tmux-1.8-x86/bin:$PATH #newer than ubuntu 12.04
    # trash-cli
    export PATH=$PATH:$HOME/toolchain/andreafrancia-trash-cli-a87fcf4/bin
    export PYTHONPATH=$PYTHONPATH:$HOME/toolchain/andreafrancia-trash-cli-a87fcf4/lib/python2.7/site-packages:$PYTHONPATH
fi

if is_osx; then
    # macport
    export MANPATH=/opt/local/share/man:$MANPATH
    # to build AOSP
    ulimit -S -n 1024
fi

# ccache
export CCACHE_COMPRESS=0
export CCACHE_DIR=~/wk/ccache
if is_buildfarm; then
    export USE_CCACHE=1
else
    export USE_CCACHE=1
    #(ccache -M 100G &) > /dev/null 2>&1 #using subshell to hide background response
fi

# ibus
#if ! is_buildfarm; then
    #for ibus
    #export GTK_IM_MODULE=ibus
    #export XMODIFIERS=@im=ibus
    #export QT_IM_MODULE=ibus-qt4
    #export XIM_PROGRAM=/usr/bin/ibus-daemon
#fi

# bash parameters
export HISTSIZE=1000000
export HISTFILESIZE=1000000
export EDITOR=vim
export HISTCONTROL=ignoreboth

# tell AOSP lunch not to touch my PROMPT_COMMAND
export STAY_OFF_MY_LAWN=true

# load bashrc for interactive shell
case "$-" in *i*) if [ -r ~/.bashrc ]; then . ~/.bashrc; fi;; esac
